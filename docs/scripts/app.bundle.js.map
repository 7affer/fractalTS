{"version":3,"sources":["webpack:///scripts/app.bundle.js","webpack:///webpack/bootstrap 08482d07d95d5264f398","webpack:///./src/scripts/main.ts","webpack:///./src/scripts/fractals/utils.ts","webpack:///./src/scripts/fractals/point.ts","webpack:///./src/scripts/gradient/grad.ts","webpack:///./src/scripts/gradient/graddata.ts","webpack:///./src/scripts/color.ts","webpack:///./src/scripts/gradient/gradoptions.ts","webpack:///./src/scripts/gradient/gradbody.ts","webpack:///./src/scripts/fractals/fractalbuilder.ts","webpack:///./src/scripts/fractals/responsedata.ts","webpack:///./src/scripts/colorcomputer.ts","webpack:///./src/scripts/fractals/juliabuilder.ts","webpack:///./src/scripts/tutorial.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","init","values","Array","push","grad_1","GradData","color_1","Color","data","GradOptions","sliderclick","repaintgradient","$","fn","grad","GradPlugin","minicolors","inline","changeDelay","change","value","opacity","color","parsehex","setcolor","getgradient","tutorial","setlevel","initevents","initfractals","el","tohex","gradient","mandelbrot","setgradient","redraw","julia","canvasm","width","canvasj","window","height","fractalbuilder_1","FractalBuilder","juliabuilder_1","JuliaBuilder","setcanvas","beforeevent","addClass","afterevent","removeClass","onzoomin","onzoomout","ondrag","onclick","mouseclick","e","juliapoint","Utils","getcoords","pixelratio","center","jconstant","point_1","Point","initialpixelratio","inputss","document","getElementsByName","inputtype","reset","getElementById","form","addcolors","deletecolors","save","fractalradio","configbutton","zoomin","zoomout","addEventListener","onsubmit","onreset","addcolor","deletecolor","saveclick","zoomincurrent","zoomoutcurrent","i","length","setInterval","currentw","currenth","windowwidth","windowheight","onresizewindow","mandel","checked","canvas","image","toDataURL","replace","this","href","index","remove","inputs","steps","parseInt","supersampling","type","preventDefault","tutorial_1","Tutorial","scaleto","lv","scale","max","getclickposition","rect","getBoundingClientRect","scaleX","scaleY","pos","x","clientX","left","y","clientY","top","pxratio","base","initialvalues","instance","body","gradbody_1","GradBody","graddata_1","gradoptions_1","r","g","b","prototype","toString","torgb","hex","substr","options","datalabel","render","updatehandlespositions","find","first","_","orderBy","renderhtml","_this","handles","append","draggable","containment","axis","drag","updatevalues","updatehandlesstyles","updatecontrolgradient","stop","click","sethandledata","each","css","background","Math","floor","position","last","handle","val","callback","responsedata_1","colorcomputer_1","handleEvent","mevent","wevent","ready","dragcoords","upcoords","abs","deltaY","coords","detail","dataparts","threadsnumber","navigator","hardwareConcurrency","workers","_loop_1","Worker","onmessage","ResponseData","Uint32Array","threadid","checkready","generate","timer","Date","getTime","postdata","postMessage","chain","sortBy","map","n","repaint","console","log","regenerate","cx","getContext","pxdata","createImageData","datapos","j","redcolorchanel","greencolorchanel","bluecolorchanel","putImageData","Int16Array","comp","ColorComputer","getcolor","head","concat","tail","groupBy","edges","getedges","diffvalue","addvalue","ar","br","funR","ag","bg","funG","ab","bb","funB","findLast","__extends","d","__","constructor","hasOwnProperty","Object","create","_super","cy","selector","storagekey","classmessage","showcurrent","hide","getlevel","show","nextlevel","level","localStorage","setItem","getItem","isNaN","tooltip","trigger"],"mappings":"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","file":"scripts/app.bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(1);\n\tmodule.exports = __webpack_require__(14);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar Utils = __webpack_require__(2);\r\n\tvar grad_1 = __webpack_require__(4);\r\n\tvar color_1 = __webpack_require__(6);\r\n\tvar fractalbuilder_1 = __webpack_require__(9);\r\n\tvar juliabuilder_1 = __webpack_require__(12);\r\n\tvar point_1 = __webpack_require__(3);\r\n\tvar tutorial_1 = __webpack_require__(13);\r\n\tvar canvasm = document.getElementById(\"canvasm\"), canvasj = document.getElementById(\"canvasj\"), initialpixelratio = 0.008;\r\n\tvar mandelbrot, julia, windowwidth = $(window).width(), windowheight = $(window).height(), tutorial = new tutorial_1.Tutorial('.tutorial-message');\r\n\tfunction init() {\r\n\t    var values = new Array();\r\n\t    values.push(new grad_1.GradData(0, new color_1.Color(0, 0, 0)));\r\n\t    values.push(new grad_1.GradData(99, new color_1.Color(255, 255, 255)));\r\n\t    var data = new grad_1.GradOptions(values, sliderclick, repaintgradient);\r\n\t    $.fn.grad = grad_1.GradPlugin;\r\n\t    $('.gradslider').grad(data);\r\n\t    $('.colorpicker').minicolors({\r\n\t        inline: true,\r\n\t        changeDelay: 200,\r\n\t        change: function (value, opacity) {\r\n\t            var color = new color_1.Color();\r\n\t            color.parsehex(value);\r\n\t            $('.gradslider').grad().setcolor(color);\r\n\t            repaintgradient($('.gradslider').grad().getgradient());\r\n\t        }\r\n\t    });\r\n\t    tutorial.setlevel(1);\r\n\t    initevents();\r\n\t    initfractals(values);\r\n\t}\r\n\tfunction sliderclick(el, data) {\r\n\t    $('.colorpicker').minicolors('value', data.color.tohex());\r\n\t}\r\n\tfunction repaintgradient(gradient) {\r\n\t    mandelbrot.setgradient(gradient);\r\n\t    mandelbrot.redraw(false);\r\n\t    julia.setgradient(gradient);\r\n\t    julia.redraw(false);\r\n\t}\r\n\tfunction initfractals(gradient) {\r\n\t    canvasm.width = canvasj.width = $(window).width();\r\n\t    canvasm.height = canvasj.height = $(window).height();\r\n\t    mandelbrot = new fractalbuilder_1.FractalBuilder('mandelbrot');\r\n\t    julia = new juliabuilder_1.JuliaBuilder('julia');\r\n\t    mandelbrot.setcanvas(canvasm);\r\n\t    julia.setcanvas(canvasj);\r\n\t    mandelbrot.beforeevent = function () { return $('.label-mandel').addClass('loading'); };\r\n\t    mandelbrot.afterevent = function () { return $('.label-mandel').removeClass('loading'); };\r\n\t    julia.beforeevent = function () { return $('.label-julia').addClass('loading'); };\r\n\t    julia.afterevent = function () { return $('.label-julia').removeClass('loading'); };\r\n\t    mandelbrot.setgradient(gradient);\r\n\t    julia.setgradient(gradient);\r\n\t    mandelbrot.redraw();\r\n\t    julia.redraw();\r\n\t    mandelbrot.onzoomin = function () { tutorial.setlevel(2); };\r\n\t    mandelbrot.onzoomout = function () { tutorial.setlevel(3); };\r\n\t    mandelbrot.ondrag = function () { tutorial.setlevel(4); };\r\n\t    mandelbrot.onclick = mouseclick;\r\n\t    julia.onzoomin = function () { tutorial.setlevel(2); };\r\n\t    julia.onzoomout = function () { tutorial.setlevel(3); };\r\n\t    julia.ondrag = function () { tutorial.setlevel(4); };\r\n\t}\r\n\tfunction mouseclick(e) {\r\n\t    var juliapoint = Utils.getcoords(e, canvasm, mandelbrot.pixelratio, mandelbrot.center);\r\n\t    julia.jconstant = juliapoint;\r\n\t    julia.center = new point_1.Point(0, 0);\r\n\t    julia.pixelratio = initialpixelratio;\r\n\t    julia.redraw();\r\n\t    tutorial.setlevel(5);\r\n\t}\r\n\tfunction initevents() {\r\n\t    var inputss = document.getElementsByName(\"supersampling\");\r\n\t    var inputtype = document.getElementsByName(\"type\");\r\n\t    var reset = document.getElementById(\"reset\");\r\n\t    var form = document.getElementById(\"mainform\");\r\n\t    var addcolors = document.getElementById(\"addcolor\");\r\n\t    var deletecolors = document.getElementById(\"deletecolor\");\r\n\t    var save = document.getElementById(\"save\");\r\n\t    var fractalradio = document.getElementsByName(\"fakecheck\");\r\n\t    var configbutton = document.getElementById(\"menu-toggle\");\r\n\t    var zoomin = document.getElementById('zoomin');\r\n\t    var zoomout = document.getElementById('zoomout');\r\n\t    form.addEventListener(\"submit\", onsubmit, false);\r\n\t    reset.addEventListener(\"click\", onreset, false);\r\n\t    addcolors.addEventListener(\"click\", addcolor, false);\r\n\t    deletecolors.addEventListener(\"click\", deletecolor, false);\r\n\t    save.addEventListener(\"click\", saveclick, false);\r\n\t    configbutton.addEventListener(\"click\", function () { tutorial.setlevel(7); }, false);\r\n\t    zoomin.addEventListener(\"click\", zoomincurrent, false);\r\n\t    zoomout.addEventListener(\"click\", zoomoutcurrent, false);\r\n\t    for (var i = 0; i < inputss.length; i++) {\r\n\t        inputss[i].addEventListener(\"change\", onsubmit, false);\r\n\t    }\r\n\t    for (var i = 0; i < inputtype.length; i++) {\r\n\t        inputtype[i].addEventListener(\"change\", function () {\r\n\t            julia.center = mandelbrot.center = new point_1.Point(0, 0);\r\n\t            julia.pixelratio = mandelbrot.pixelratio = initialpixelratio;\r\n\t            onsubmit(null);\r\n\t        }, false);\r\n\t    }\r\n\t    for (var i = 0; i < fractalradio.length; i++) {\r\n\t        fractalradio[i].addEventListener(\"change\", function () { tutorial.setlevel(6); }, false);\r\n\t    }\r\n\t    setInterval(function () {\r\n\t        var currentw = $(window).width();\r\n\t        var currenth = $(window).height();\r\n\t        if (currentw != windowwidth || currenth != windowheight) {\r\n\t            onresizewindow();\r\n\t        }\r\n\t    }, 300);\r\n\t}\r\n\tfunction zoomincurrent() {\r\n\t    var mandel = document.getElementById('radiomandel');\r\n\t    if (mandel.checked)\r\n\t        mandelbrot.zoomin(null);\r\n\t    else\r\n\t        julia.zoomin(null);\r\n\t}\r\n\tfunction zoomoutcurrent() {\r\n\t    var mandel = document.getElementById('radiomandel');\r\n\t    if (mandel.checked)\r\n\t        mandelbrot.zoomout();\r\n\t    else\r\n\t        julia.zoomout();\r\n\t}\r\n\tfunction saveclick() {\r\n\t    var canvas = $('.fakecheck:checked + label canvas')[0];\r\n\t    var image = canvas.toDataURL(\"image/png\");\r\n\t    image = image.replace(/^data:image\\/[^;]*/, 'data:application/octet-stream');\r\n\t    image = image.replace(/^data:application\\/octet-stream/, 'data:application/octet-stream;headers=Content-Disposition%3A%20attachment%3B%20filename=Canvas.png');\r\n\t    this.href = image;\r\n\t}\r\n\tfunction addcolor() {\r\n\t    $('.gradslider').grad().addcolor(new color_1.Color(255, 255, 255));\r\n\t    var gradient = $('.gradslider').grad().getgradient();\r\n\t    repaintgradient(gradient);\r\n\t}\r\n\tfunction deletecolor() {\r\n\t    var index = $('.gradslider .handle.selected').index();\r\n\t    $('.gradslider .handle.selected').remove();\r\n\t    $('.gradslider').grad().deletecolor(index);\r\n\t    var gradient = $('.gradslider').grad().getgradient();\r\n\t    repaintgradient(gradient);\r\n\t}\r\n\tfunction onresizewindow() {\r\n\t    windowwidth = $(window).width();\r\n\t    windowheight = $(window).height();\r\n\t    canvasm.width = canvasj.width = windowwidth;\r\n\t    canvasm.height = canvasj.height = windowheight;\r\n\t    mandelbrot.redraw();\r\n\t    julia.redraw();\r\n\t}\r\n\tfunction onsubmit(e) {\r\n\t    var inputs = document.getElementById(\"in_steps\");\r\n\t    var inputss = document.getElementsByName(\"supersampling\");\r\n\t    var inputtype = document.getElementsByName(\"type\");\r\n\t    mandelbrot.steps = parseInt(inputs.value, 10);\r\n\t    julia.steps = parseInt(inputs.value, 10);\r\n\t    for (var i = 0; i < inputss.length; i++) {\r\n\t        if (inputss[i].checked) {\r\n\t            mandelbrot.supersampling = parseInt(inputss[i].value, 10);\r\n\t            julia.supersampling = parseInt(inputss[i].value, 10);\r\n\t        }\r\n\t    }\r\n\t    for (var i = 0; i < inputtype.length; i++) {\r\n\t        if (inputtype[i].checked) {\r\n\t            mandelbrot.type = inputtype[i].value == \"mandelbrot\" ? \"mandelbrot\" : \"ship\";\r\n\t            julia.type = inputtype[i].value == \"mandelbrot\" ? \"julia\" : \"juliaship\";\r\n\t        }\r\n\t    }\r\n\t    var gradient = $('.gradslider').grad().getgradient();\r\n\t    mandelbrot.setgradient(gradient);\r\n\t    julia.setgradient(gradient);\r\n\t    mandelbrot.redraw();\r\n\t    julia.redraw();\r\n\t    e.preventDefault();\r\n\t}\r\n\tfunction onreset(e) {\r\n\t    julia.center = mandelbrot.center = new point_1.Point(0, 0);\r\n\t    julia.pixelratio = mandelbrot.pixelratio = initialpixelratio;\r\n\t    mandelbrot.redraw();\r\n\t    julia.redraw();\r\n\t}\r\n\tinit();\r\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar point_1 = __webpack_require__(3);\r\n\tfunction scaleto(lv, scale, max) {\r\n\t    return lv / max * scale;\r\n\t}\r\n\texports.scaleto = scaleto;\r\n\tfunction getclickposition(canvas, e) {\r\n\t    var rect = canvas.getBoundingClientRect(), // abs. size of element\r\n\t    scaleX = canvas.width / rect.width, // relationship bitmap vs. element for X\r\n\t    scaleY = canvas.height / rect.height; // relationship bitmap vs. element for Y\r\n\t    var pos = {\r\n\t        x: (e.clientX - rect.left) * scaleX,\r\n\t        y: (e.clientY - rect.top) * scaleY // been adjusted to be relative to element\r\n\t    };\r\n\t    return pos;\r\n\t}\r\n\texports.getclickposition = getclickposition;\r\n\tfunction getcoords(e, canvas, pxratio, base) {\r\n\t    var pos = getclickposition(canvas, e);\r\n\t    return new point_1.Point((pos.x - canvas.width / 2) * pxratio + base.x, (canvas.height / 2 - pos.y) * pxratio + base.y);\r\n\t}\r\n\texports.getcoords = getcoords;\r\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar Point = (function () {\r\n\t    function Point(x, y) {\r\n\t        this.x = x;\r\n\t        this.y = y;\r\n\t    }\r\n\t    return Point;\r\n\t}());\r\n\texports.Point = Point;\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar graddata_1 = __webpack_require__(5);\r\n\texports.GradData = graddata_1.GradData;\r\n\tvar gradoptions_1 = __webpack_require__(7);\r\n\texports.GradOptions = gradoptions_1.GradOptions;\r\n\tvar gradbody_1 = __webpack_require__(8);\r\n\texports.GradBody = gradbody_1.GradBody;\r\n\tfunction GradPlugin(initialvalues) {\r\n\t    var instance = this;\r\n\t    var body = instance.data('gradbw');\r\n\t    if (body == null) {\r\n\t        body = new gradbody_1.GradBody(instance, initialvalues);\r\n\t        instance.data('gradbw', body);\r\n\t    }\r\n\t    return body;\r\n\t}\r\n\texports.GradPlugin = GradPlugin;\r\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar color_1 = __webpack_require__(6);\r\n\texports.Color = color_1.Color;\r\n\tvar GradData = (function () {\r\n\t    function GradData(value, color) {\r\n\t        if (color === void 0) { color = new color_1.Color(); }\r\n\t        this.value = value;\r\n\t        this.color = color;\r\n\t    }\r\n\t    return GradData;\r\n\t}());\r\n\texports.GradData = GradData;\r\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar Color = (function () {\r\n\t    function Color(r, g, b) {\r\n\t        if (r === void 0) { r = 0; }\r\n\t        if (g === void 0) { g = 0; }\r\n\t        if (b === void 0) { b = 0; }\r\n\t        this.r = r;\r\n\t        this.g = g;\r\n\t        this.b = b;\r\n\t    }\r\n\t    Color.prototype.tohex = function () {\r\n\t        var r = this.r.toString(16);\r\n\t        r = r.length < 2 ? '0' + r : r;\r\n\t        var g = this.g.toString(16);\r\n\t        g = g.length < 2 ? '0' + g : g;\r\n\t        var b = this.b.toString(16);\r\n\t        b = b.length < 2 ? '0' + b : b;\r\n\t        return \"#\" + r + g + b;\r\n\t    };\r\n\t    Color.prototype.torgb = function () {\r\n\t        return \"rgb(\" + this.r + \",\" + this.g + \",\" + this.b + \")\";\r\n\t    };\r\n\t    Color.prototype.parsehex = function (hex) {\r\n\t        var r = hex.substr(1, 2);\r\n\t        var g = hex.substr(3, 2);\r\n\t        var b = hex.substr(5, 2);\r\n\t        this.r = parseInt(r, 16);\r\n\t        this.g = parseInt(g, 16);\r\n\t        this.b = parseInt(b, 16);\r\n\t    };\r\n\t    return Color;\r\n\t}());\r\n\texports.Color = Color;\r\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar GradOptions = (function () {\r\n\t    function GradOptions(values, sliderclick, setgradient) {\r\n\t        if (sliderclick === void 0) { sliderclick = function () { }; }\r\n\t        if (setgradient === void 0) { setgradient = function () { }; }\r\n\t        this.values = values;\r\n\t        this.sliderclick = sliderclick;\r\n\t        this.setgradient = setgradient;\r\n\t    }\r\n\t    return GradOptions;\r\n\t}());\r\n\texports.GradOptions = GradOptions;\r\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar graddata_1 = __webpack_require__(5);\r\n\tvar color_1 = __webpack_require__(6);\r\n\tvar GradBody = (function () {\r\n\t    function GradBody(instance, options) {\r\n\t        this.datalabel = \"graddata\";\r\n\t        this.instance = instance;\r\n\t        this.sliderclick = options.sliderclick;\r\n\t        this.setgradient = options.setgradient;\r\n\t        this.values = options.values ||\r\n\t            [\r\n\t                new graddata_1.GradData(0),\r\n\t                new graddata_1.GradData(100, new color_1.Color(255, 255, 255))\r\n\t            ];\r\n\t        this.render();\r\n\t        this.updatehandlespositions();\r\n\t        this.instance.find('.handle').first().addClass('selected');\r\n\t    }\r\n\t    GradBody.prototype.getgradient = function () {\r\n\t        return _.orderBy(this.values, ['value', 'asc']);\r\n\t    };\r\n\t    GradBody.prototype.renderhtml = function () {\r\n\t        var _this = this;\r\n\t        _this.instance.addClass('bwslider');\r\n\t        var handles = _this.instance.find('.handle');\r\n\t        while (handles.length < _this.values.length) {\r\n\t            _this.instance.append($('<span>')\r\n\t                .addClass('handle')\r\n\t                .draggable({\r\n\t                containment: 'parent',\r\n\t                axis: 'x',\r\n\t                drag: function () {\r\n\t                    _this.instance.find('.handle').removeClass('selected');\r\n\t                    $(this).addClass('selected');\r\n\t                    _this.updatevalues();\r\n\t                    _this.updatehandlesstyles();\r\n\t                    _this.updatecontrolgradient();\r\n\t                },\r\n\t                stop: function () {\r\n\t                    _this.instance.find('.handle').removeClass('selected');\r\n\t                    $(this).addClass('selected');\r\n\t                    _this.updatevalues();\r\n\t                    _this.updatehandlesstyles();\r\n\t                    _this.updatecontrolgradient();\r\n\t                    _this.setgradient(_this.values);\r\n\t                }\r\n\t            })\r\n\t                .click(function () {\r\n\t                _this.instance.find('.handle').removeClass('selected');\r\n\t                $(this).addClass('selected');\r\n\t                _this.sliderclick(this, $(this).data(_this.datalabel));\r\n\t            }));\r\n\t            handles = _this.instance.find('.handle');\r\n\t        }\r\n\t    };\r\n\t    GradBody.prototype.sethandledata = function () {\r\n\t        var _this = this;\r\n\t        _this.instance.find('.handle').each(function (i) {\r\n\t            $(this).data(_this.datalabel, _this.values[i]);\r\n\t        });\r\n\t    };\r\n\t    GradBody.prototype.updatehandlesstyles = function () {\r\n\t        var _this = this;\r\n\t        _this.instance.find('.handle').each(function () {\r\n\t            var data = $(this).data(_this.datalabel);\r\n\t            $(this).css({\r\n\t                background: data.color.tohex()\r\n\t            });\r\n\t        });\r\n\t    };\r\n\t    GradBody.prototype.updatehandlespositions = function () {\r\n\t        var _this = this;\r\n\t        _this.instance.find('.handle').each(function () {\r\n\t            var data = $(this).data(_this.datalabel);\r\n\t            $(this).css({\r\n\t                left: data.value + \"%\"\r\n\t            });\r\n\t        });\r\n\t    };\r\n\t    GradBody.prototype.updatecontrolgradient = function () {\r\n\t        var _this = this;\r\n\t        var css = \"\";\r\n\t        var values = _.orderBy(_this.values, ['value', 'asc']);\r\n\t        for (var i = 0; i < values.length; i++) {\r\n\t            css += \", \" + values[i].color.tohex() + \" \" + values[i].value + \"%\";\r\n\t        }\r\n\t        _this.instance.css(\"background-image\", \"-webkit-linear-gradient(left \" + css + \")\");\r\n\t        _this.instance.css(\"background-image\", \"-moz-linear-gradient(to right \" + css + \")\");\r\n\t        _this.instance.css(\"background-image\", \"-o-linear-gradient(left \" + css + \")\");\r\n\t        _this.instance.css(\"background-image\", \"linear-gradient(left \" + css + \")\");\r\n\t    };\r\n\t    GradBody.prototype.render = function () {\r\n\t        var _this = this;\r\n\t        _this.instance.addClass('bwslider');\r\n\t        _this.renderhtml();\r\n\t        _this.sethandledata();\r\n\t        _this.updatehandlesstyles();\r\n\t        _this.updatecontrolgradient();\r\n\t    };\r\n\t    GradBody.prototype.updatevalues = function () {\r\n\t        var _this = this;\r\n\t        _this.instance.find('.handle').each(function (i) {\r\n\t            var data = $(this).data(_this.datalabel);\r\n\t            data.value = Math.floor($(this).position().left / _this.instance.width() * 100.0);\r\n\t            $(this).data(_this.datalabel, data);\r\n\t            _this.values[i] = data;\r\n\t        });\r\n\t    };\r\n\t    GradBody.prototype.addcolor = function (color) {\r\n\t        var _this = this;\r\n\t        _this.values.push(new graddata_1.GradData(50, color));\r\n\t        _this.render();\r\n\t        _this.updatehandlespositions();\r\n\t        _this.instance.find('.handle').removeClass('selected');\r\n\t        _this.instance.find('.handle').last().addClass('selected');\r\n\t    };\r\n\t    GradBody.prototype.setcolor = function (color) {\r\n\t        var _this = this;\r\n\t        var handle = _this.instance.find('.handle.selected');\r\n\t        if (handle.length > 0) {\r\n\t            var data = handle.data(_this.datalabel);\r\n\t            if (data != null) {\r\n\t                data.color = color;\r\n\t                handle.data(_this.datalabel, data);\r\n\t                _this.updatevalues();\r\n\t                _this.updatehandlesstyles();\r\n\t                _this.updatecontrolgradient();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    GradBody.prototype.deletecolor = function (index) {\r\n\t        var _this = this;\r\n\t        _this.values = _.remove(this.values, function (val, i) { return i != index; });\r\n\t        _this.render();\r\n\t    };\r\n\t    GradBody.prototype.click = function (callback) {\r\n\t        var _this = this;\r\n\t        _this.sliderclick = callback;\r\n\t    };\r\n\t    return GradBody;\r\n\t}());\r\n\texports.GradBody = GradBody;\r\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar Utils = __webpack_require__(2);\r\n\tvar responsedata_1 = __webpack_require__(10);\r\n\tvar point_1 = __webpack_require__(3);\r\n\tvar colorcomputer_1 = __webpack_require__(11);\r\n\tvar FractalBuilder = (function () {\r\n\t    function FractalBuilder(type) {\r\n\t        this.type = type;\r\n\t        this.center = new point_1.Point(0, 0);\r\n\t        this.steps = 80;\r\n\t        this.pixelratio = 0.008;\r\n\t        this.supersampling = 1;\r\n\t        this.handleEvent = function (e) {\r\n\t            var mevent = e;\r\n\t            var wevent = e;\r\n\t            var instance = this;\r\n\t            if (instance.ready) {\r\n\t                switch (e.type) {\r\n\t                    case 'mousedown':\r\n\t                        instance.dragcoords = Utils.getclickposition(instance.canvas, mevent);\r\n\t                        break;\r\n\t                    case 'mouseup':\r\n\t                        var upcoords = Utils.getclickposition(instance.canvas, mevent);\r\n\t                        var change = { x: instance.dragcoords.x - upcoords.x, y: instance.dragcoords.y - upcoords.y };\r\n\t                        if (Math.abs(change.x) > 3 || Math.abs(change.y)) {\r\n\t                            instance.drag(change);\r\n\t                        }\r\n\t                        else {\r\n\t                            instance.onclick(mevent);\r\n\t                        }\r\n\t                        break;\r\n\t                    case 'mousewheel':\r\n\t                        if (wevent.deltaY > 0) {\r\n\t                            instance.zoomout();\r\n\t                        }\r\n\t                        else {\r\n\t                            var coords = Utils.getcoords(mevent, instance.canvas, instance.pixelratio, instance.center);\r\n\t                            instance.zoomin(coords);\r\n\t                        }\r\n\t                        wevent.preventDefault();\r\n\t                        break;\r\n\t                    case 'DOMMouseScroll':\r\n\t                        if (wevent.detail > 0) {\r\n\t                            instance.zoomout();\r\n\t                        }\r\n\t                        else {\r\n\t                            var coords = Utils.getcoords(mevent, instance.canvas, instance.pixelratio, instance.center);\r\n\t                            instance.zoomin(coords);\r\n\t                        }\r\n\t                        wevent.preventDefault();\r\n\t                        break;\r\n\t                }\r\n\t            }\r\n\t        };\r\n\t        var instance = this;\r\n\t        instance.ready = true;\r\n\t        instance.dataparts = new Array();\r\n\t        instance.threadsnumber = navigator.hardwareConcurrency;\r\n\t        if (typeof (instance.threadsnumber) == \"undefined\")\r\n\t            instance.threadsnumber = 4;\r\n\t        instance.workers = [];\r\n\t        var _loop_1 = function(i) {\r\n\t            instance.workers.push(new Worker(\"./scripts/worker.bundle.js\"));\r\n\t            instance.workers[i].onmessage = function (e) {\r\n\t                var data = new responsedata_1.ResponseData();\r\n\t                data.data = new Uint32Array(e.data);\r\n\t                data.threadid = i;\r\n\t                instance.dataparts.push(data);\r\n\t                instance.checkready();\r\n\t            };\r\n\t        };\r\n\t        for (var i = 0; i < instance.threadsnumber; i++) {\r\n\t            _loop_1(i);\r\n\t        }\r\n\t    }\r\n\t    FractalBuilder.prototype.setcanvas = function (canvas) {\r\n\t        var instance = this;\r\n\t        instance.canvas = canvas;\r\n\t        instance.canvas.addEventListener(\"mousedown\", instance, false);\r\n\t        instance.canvas.addEventListener(\"mousewheel\", instance, false);\r\n\t        instance.canvas.addEventListener(\"DOMMouseScroll\", instance, false);\r\n\t        instance.canvas.addEventListener(\"mouseup\", instance, false);\r\n\t    };\r\n\t    FractalBuilder.prototype.zoomin = function (coords) {\r\n\t        if (coords != null) {\r\n\t            this.center = coords;\r\n\t        }\r\n\t        this.pixelratio *= 0.5;\r\n\t        this.redraw(true);\r\n\t        this.onzoomin();\r\n\t    };\r\n\t    FractalBuilder.prototype.zoomout = function () {\r\n\t        if (this.pixelratio * 2 <= 0.008) {\r\n\t            this.pixelratio *= 2;\r\n\t            this.redraw(true);\r\n\t            this.onzoomout();\r\n\t        }\r\n\t    };\r\n\t    FractalBuilder.prototype.drag = function (change) {\r\n\t        this.center.x += change.x * this.pixelratio;\r\n\t        this.center.y -= change.y * this.pixelratio;\r\n\t        this.redraw(true);\r\n\t        this.ondrag();\r\n\t    };\r\n\t    FractalBuilder.prototype.generate = function () {\r\n\t        var _this = this;\r\n\t        _this.timer = (new Date()).getTime();\r\n\t        _this.ready = false;\r\n\t        var height = Math.floor(_this.canvas.height / _this.threadsnumber);\r\n\t        var postdata = {\r\n\t            type: _this.type,\r\n\t            width: _this.canvas.width,\r\n\t            height: height,\r\n\t            steps: _this.steps,\r\n\t            pixelratio: _this.pixelratio,\r\n\t            x: _this.center.x,\r\n\t            y: -_this.center.y - (_this.pixelratio * height) * (_this.threadsnumber / 2.0 - 0.5),\r\n\t            supersampling: _this.supersampling\r\n\t        };\r\n\t        for (var i = 0; i < _this.threadsnumber; i++) {\r\n\t            _this.workers[i].postMessage(postdata);\r\n\t            postdata.y += (_this.pixelratio * height);\r\n\t        }\r\n\t    };\r\n\t    FractalBuilder.prototype.checkready = function () {\r\n\t        if (this.dataparts.length == this.threadsnumber) {\r\n\t            this.data = _.chain(this.dataparts).sortBy(\"threadid\").map(function (n) { return n.data; }).value();\r\n\t            this.repaint();\r\n\t            this.dataparts = new Array();\r\n\t            this.ready = true;\r\n\t            if (typeof (console) != 'undefined') {\r\n\t                console.log(\"\\n\\t\\t\\t\\t\\tType: \" + (this.type) + \"\\n\\t\\t\\t\\t\\tSubsampling: \" + this.supersampling + \" \\n\\t\\t\\t\\t\\tthreadsnumber: \" + this.threadsnumber + \"\\n\\t\\t\\t\\t\\tTime: \" + ((new Date()).getTime() - this.timer));\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    FractalBuilder.prototype.redraw = function (regenerate) {\r\n\t        if (regenerate === void 0) { regenerate = true; }\r\n\t        if (this.ready) {\r\n\t            if (this.beforeevent != null) {\r\n\t                this.beforeevent();\r\n\t            }\r\n\t            if (regenerate) {\r\n\t                this.generate();\r\n\t            }\r\n\t            else {\r\n\t                this.repaint();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    FractalBuilder.prototype.repaint = function () {\r\n\t        var cx = this.canvas.getContext(\"2d\");\r\n\t        var width = this.canvas.width;\r\n\t        var height = this.canvas.height;\r\n\t        var pxdata = cx.createImageData(width, height);\r\n\t        var datapos = 0;\r\n\t        for (var i = 0; i < this.data.length; i++) {\r\n\t            for (var j = 0; j < this.data[i].length; j++) {\r\n\t                pxdata.data[datapos++] = this.redcolorchanel[this.data[i][j]];\r\n\t                pxdata.data[datapos++] = this.greencolorchanel[this.data[i][j]];\r\n\t                pxdata.data[datapos++] = this.bluecolorchanel[this.data[i][j]];\r\n\t                pxdata.data[datapos++] = 255;\r\n\t            }\r\n\t        }\r\n\t        cx.putImageData(pxdata, 0, 0);\r\n\t        if (this.afterevent != null) {\r\n\t            this.afterevent();\r\n\t        }\r\n\t    };\r\n\t    FractalBuilder.prototype.setgradient = function (gradient) {\r\n\t        this.redcolorchanel = new Int16Array(this.steps + 1);\r\n\t        this.greencolorchanel = new Int16Array(this.steps + 1);\r\n\t        this.bluecolorchanel = new Int16Array(this.steps + 1);\r\n\t        var comp = new colorcomputer_1.ColorComputer(gradient);\r\n\t        for (var i = 0; i <= this.steps; i++) {\r\n\t            var color = comp.getcolor(this.steps, i);\r\n\t            this.redcolorchanel[i] = color.r;\r\n\t            this.greencolorchanel[i] = color.g;\r\n\t            this.bluecolorchanel[i] = color.b;\r\n\t        }\r\n\t    };\r\n\t    return FractalBuilder;\r\n\t}());\r\n\texports.FractalBuilder = FractalBuilder;\r\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ResponseData = (function () {\r\n\t    function ResponseData() {\r\n\t    }\r\n\t    return ResponseData;\r\n\t}());\r\n\texports.ResponseData = ResponseData;\r\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar graddata_1 = __webpack_require__(5);\r\n\tvar color_1 = __webpack_require__(6);\r\n\tvar ColorComputer = (function () {\r\n\t    function ColorComputer(gradient) {\r\n\t        gradient = _.orderBy(gradient, ['value']);\r\n\t        if (gradient[0].value > 0) {\r\n\t            var head = new Array();\r\n\t            head.push(new graddata_1.GradData(0, gradient[0].color));\r\n\t            gradient = head.concat(gradient);\r\n\t        }\r\n\t        if (gradient[gradient.length - 1].value < 100) {\r\n\t            var tail = new Array();\r\n\t            tail.push(new graddata_1.GradData(100, gradient[gradient.length - 1].color));\r\n\t            gradient = gradient.concat(tail);\r\n\t        }\r\n\t        gradient = _.chain(gradient)\r\n\t            .groupBy('value')\r\n\t            .map(function (el) {\r\n\t            return el[0];\r\n\t        })\r\n\t            .value();\r\n\t        this.gradient = gradient;\r\n\t    }\r\n\t    ColorComputer.prototype.getcolor = function (max, val) {\r\n\t        var x = val / max * 100;\r\n\t        var edges = this.getedges(x);\r\n\t        var diffvalue = edges[0].value - edges[1].value;\r\n\t        var addvalue = edges[0].value + edges[1].value;\r\n\t        var ar = (edges[0].color.r - edges[1].color.r) / diffvalue;\r\n\t        var br = (edges[0].color.r + edges[1].color.r - ar * addvalue) / 2.0;\r\n\t        var funR = function (x) { return x * ar + br; };\r\n\t        var ag = (edges[0].color.g - edges[1].color.g) / diffvalue;\r\n\t        var bg = (edges[0].color.g + edges[1].color.g - ag * addvalue) / 2.0;\r\n\t        var funG = function (x) { return x * ag + bg; };\r\n\t        var ab = (edges[0].color.b - edges[1].color.b) / diffvalue;\r\n\t        var bb = (edges[0].color.b + edges[1].color.b - ab * addvalue) / 2.0;\r\n\t        var funB = function (x) { return x * ab + bb; };\r\n\t        return new color_1.Color(funR(val), funG(val), funB(val));\r\n\t    };\r\n\t    ColorComputer.prototype.getedges = function (val) {\r\n\t        if (val == 100) {\r\n\t            return [\r\n\t                this.gradient[this.gradient.length - 2],\r\n\t                this.gradient[this.gradient.length - 1]\r\n\t            ];\r\n\t        }\r\n\t        return [\r\n\t            _.findLast(this.gradient, function (el) { return el.value <= val; }),\r\n\t            _.find(this.gradient, function (el) { return el.value > val; })\r\n\t        ];\r\n\t    };\r\n\t    return ColorComputer;\r\n\t}());\r\n\texports.ColorComputer = ColorComputer;\r\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar fractalbuilder_1 = __webpack_require__(9);\r\n\tvar point_1 = __webpack_require__(3);\r\n\tvar JuliaBuilder = (function (_super) {\r\n\t    __extends(JuliaBuilder, _super);\r\n\t    function JuliaBuilder(type) {\r\n\t        _super.call(this, type);\r\n\t        this.jconstant = new point_1.Point(0.12, 0.63);\r\n\t    }\r\n\t    JuliaBuilder.prototype.generate = function () {\r\n\t        var _this = this;\r\n\t        _this.timer = (new Date()).getTime();\r\n\t        _this.ready = false;\r\n\t        var height = Math.floor(_this.canvas.height / _this.threadsnumber);\r\n\t        var postdata = {\r\n\t            type: _this.type,\r\n\t            width: _this.canvas.width,\r\n\t            height: height,\r\n\t            steps: _this.steps,\r\n\t            pixelratio: _this.pixelratio,\r\n\t            x: _this.center.x,\r\n\t            y: -_this.center.y - (_this.pixelratio * height) * (_this.threadsnumber / 2.0 - 0.5),\r\n\t            supersampling: _this.supersampling,\r\n\t            cx: _this.jconstant.x,\r\n\t            cy: -_this.jconstant.y\r\n\t        };\r\n\t        for (var i = 0; i < _this.threadsnumber; i++) {\r\n\t            _this.workers[i].postMessage(postdata);\r\n\t            postdata.y += (_this.pixelratio * height);\r\n\t        }\r\n\t    };\r\n\t    return JuliaBuilder;\r\n\t}(fractalbuilder_1.FractalBuilder));\r\n\texports.JuliaBuilder = JuliaBuilder;\r\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar Tutorial = (function () {\r\n\t    function Tutorial(selector) {\r\n\t        this.selector = selector;\r\n\t        this.storagekey = 'tutorial';\r\n\t        this.classmessage = '.message';\r\n\t        this.showcurrent = function () {\r\n\t            $(\"\" + this.selector).hide();\r\n\t            $(this.selector + \" + .tooltip\").hide();\r\n\t            $(\"\" + this.selector + this.classmessage + this.getlevel()).show();\r\n\t            $(\"\" + this.selector + this.classmessage + this.getlevel() + \" + .tooltip\").show();\r\n\t        };\r\n\t        this.setlevel = function (nextlevel) {\r\n\t            var level = this.getlevel();\r\n\t            if (level + 1 == nextlevel) {\r\n\t                localStorage.setItem(this.storagekey, nextlevel.toString());\r\n\t            }\r\n\t            this.showcurrent();\r\n\t        };\r\n\t        this.getlevel = function () {\r\n\t            var level = parseInt(localStorage.getItem(this.storagekey), 10);\r\n\t            if (isNaN(level)) {\r\n\t                return 0;\r\n\t            }\r\n\t            return level;\r\n\t        };\r\n\t        $(\"\" + this.selector).tooltip({ trigger: 'manual' });\r\n\t        $(\"\" + this.selector).tooltip('show');\r\n\t        $(\"\" + this.selector).hide();\r\n\t        $(this.selector + \" + .tooltip\").hide();\r\n\t    }\r\n\t    return Tutorial;\r\n\t}());\r\n\texports.Tutorial = Tutorial;\r\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** scripts/app.bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 08482d07d95d5264f398\n **/","import * as Utils from \"./fractals/utils\";\r\nimport {GradBody, GradData, GradOptions, GradPlugin} from \"./gradient/grad\";\r\nimport {Color} from \"./color\";\r\nimport { FractalBuilder } from \"./fractals/fractalbuilder\";\r\nimport { JuliaBuilder } from \"./fractals/juliabuilder\";\r\nimport { Point } from \"./fractals/point\";\r\nimport { Tutorial} from \"./tutorial\"\r\n\r\nconst\r\n\tcanvasm = <HTMLCanvasElement>document.getElementById(\"canvasm\"),\r\n\tcanvasj = <HTMLCanvasElement>document.getElementById(\"canvasj\"),\r\n\tinitialpixelratio = 0.008\r\nvar\r\n\tmandelbrot: FractalBuilder,\r\n\tjulia: JuliaBuilder,\r\n\twindowwidth = $(window).width(),\r\n\twindowheight = $(window).height(),\r\n\ttutorial = new Tutorial('.tutorial-message')\r\n\r\nfunction init() {\r\n\r\n\tvar values = new Array<GradData>();\r\n\tvalues.push(new GradData(0, new Color(0, 0, 0)))\r\n\tvalues.push(new GradData(99, new Color(255, 255, 255)))\r\n\tvar data = new GradOptions(values, sliderclick, repaintgradient);\r\n\r\n\t$.fn.grad = GradPlugin;\r\n\r\n\t(<any>$('.gradslider')).grad(data);\r\n\r\n\t(<any>$('.colorpicker')).minicolors({\r\n\t\tinline: true,\r\n\t\tchangeDelay: 200,\r\n\t\tchange: function (value: string, opacity: any) {\r\n\t\t\tlet color = new Color();\r\n\t\t\tcolor.parsehex(value);\r\n\t\t\t(<any>$('.gradslider')).grad().setcolor(color)\r\n\t\t\trepaintgradient((<any>$('.gradslider')).grad().getgradient())\r\n\t\t}\r\n\t});\r\n\r\n\ttutorial.setlevel(1)\r\n\r\n\tinitevents()\r\n\tinitfractals(values)\r\n}\r\n\r\nfunction sliderclick(el: any, data: GradData) {\r\n\t(<any>$('.colorpicker')).minicolors('value', data.color.tohex())\r\n}\r\n\r\nfunction repaintgradient(gradient: Array<GradData>) {\r\n\tmandelbrot.setgradient(gradient)\r\n\tmandelbrot.redraw(false)\r\n\tjulia.setgradient(gradient)\r\n\tjulia.redraw(false)\r\n}\r\n\r\nfunction initfractals(gradient: Array<GradData>) {\r\n\tcanvasm.width = canvasj.width = $(window).width();\r\n\tcanvasm.height = canvasj.height = $(window).height();\r\n\tmandelbrot = new FractalBuilder('mandelbrot');\r\n\tjulia = new JuliaBuilder('julia');\r\n\r\n\tmandelbrot.setcanvas(canvasm);\r\n\tjulia.setcanvas(canvasj);\r\n\r\n\tmandelbrot.beforeevent = () => $('.label-mandel').addClass('loading')\r\n\tmandelbrot.afterevent = () => $('.label-mandel').removeClass('loading')\r\n\tjulia.beforeevent = () => $('.label-julia').addClass('loading')\r\n\tjulia.afterevent = () => $('.label-julia').removeClass('loading')\r\n\r\n\tmandelbrot.setgradient(gradient)\r\n\tjulia.setgradient(gradient)\r\n\r\n\tmandelbrot.redraw()\r\n\tjulia.redraw()\r\n\r\n\tmandelbrot.onzoomin = () => { tutorial.setlevel(2) }\r\n\tmandelbrot.onzoomout = () => { tutorial.setlevel(3) }\r\n\tmandelbrot.ondrag = () => { tutorial.setlevel(4) }\r\n\tmandelbrot.onclick = mouseclick\r\n\r\n\tjulia.onzoomin = () => { tutorial.setlevel(2) }\r\n\tjulia.onzoomout = () => { tutorial.setlevel(3) }\r\n\tjulia.ondrag = () => { tutorial.setlevel(4) }\r\n}\r\n\r\nfunction mouseclick(e: MouseEvent) {\r\n\tvar juliapoint = Utils.getcoords(e, canvasm, mandelbrot.pixelratio, mandelbrot.center)\r\n\tjulia.jconstant = juliapoint\r\n\tjulia.center = new Point(0,0)\r\n\tjulia.pixelratio = initialpixelratio\r\n\tjulia.redraw()\r\n\ttutorial.setlevel(5)\r\n}\r\n\r\nfunction initevents() {\r\n\tlet inputss = <NodeListOf<Element>>document.getElementsByName(\"supersampling\")\r\n\tlet inputtype = <NodeListOf<Element>>document.getElementsByName(\"type\")\r\n\tlet reset = <HTMLButtonElement>document.getElementById(\"reset\")\r\n\tlet form = <HTMLFormElement>document.getElementById(\"mainform\")\r\n\tlet addcolors = <HTMLButtonElement>document.getElementById(\"addcolor\")\r\n\tlet deletecolors = <HTMLButtonElement>document.getElementById(\"deletecolor\")\r\n\tlet save = <HTMLButtonElement>document.getElementById(\"save\")\r\n\tlet fractalradio = <NodeListOf<Element>>document.getElementsByName(\"fakecheck\")\r\n\tlet configbutton = <HTMLElement>document.getElementById(\"menu-toggle\")\r\n\tlet zoomin = <HTMLElement>document.getElementById('zoomin')\r\n\tlet zoomout = <HTMLElement>document.getElementById('zoomout')\r\n\r\n\tform.addEventListener(\"submit\", onsubmit, false)\r\n\treset.addEventListener(\"click\", onreset, false)\r\n\r\n\taddcolors.addEventListener(\"click\", addcolor, false)\r\n\tdeletecolors.addEventListener(\"click\", deletecolor, false)\r\n\tsave.addEventListener(\"click\", saveclick, false)\r\n\tconfigbutton.addEventListener(\"click\", function () { tutorial.setlevel(7) }, false)\r\n\tzoomin.addEventListener(\"click\", zoomincurrent, false)\r\n\tzoomout.addEventListener(\"click\", zoomoutcurrent, false)\r\n\r\n\tfor (let i = 0; i < inputss.length; i++) {\r\n\t\tinputss[i].addEventListener(\"change\", onsubmit, false);\r\n\t}\r\n\r\n\tfor (let i = 0; i < inputtype.length; i++) {\r\n\t\tinputtype[i].addEventListener(\"change\", function () {\r\n\t\t\tjulia.center = mandelbrot.center = new Point(0, 0);\r\n\t\t\tjulia.pixelratio = mandelbrot.pixelratio = initialpixelratio;\r\n\t\t\tonsubmit(null);\r\n\t\t}, false);\r\n\t}\r\n\r\n\tfor (let i = 0; i < fractalradio.length; i++) {\r\n\t\tfractalradio[i].addEventListener(\"change\", function () { tutorial.setlevel(6) }, false);\r\n\t}\r\n\r\n\tsetInterval(function () {\r\n\t\tlet currentw = $(window).width()\r\n\t\tlet currenth = $(window).height()\r\n\t\tif (currentw != windowwidth || currenth != windowheight) {\r\n\t\t\tonresizewindow()\r\n\t\t}\r\n\t}, 300)\r\n}\r\n\r\nfunction zoomincurrent() {\r\n\tlet mandel = <HTMLInputElement>document.getElementById('radiomandel')\r\n\tif(mandel.checked) mandelbrot.zoomin(null)\r\n\telse julia.zoomin(null)\r\n}\r\n\r\nfunction zoomoutcurrent() {\r\n\tlet mandel = <HTMLInputElement>document.getElementById('radiomandel')\r\n\tif(mandel.checked) mandelbrot.zoomout()\r\n\telse julia.zoomout()\r\n}\r\n\r\nfunction saveclick() {\r\n\tlet canvas = <HTMLCanvasElement>$('.fakecheck:checked + label canvas')[0]\r\n\tvar image = canvas.toDataURL(\"image/png\");\r\n\timage = image.replace(/^data:image\\/[^;]*/, 'data:application/octet-stream');\r\n\timage = image.replace(/^data:application\\/octet-stream/, 'data:application/octet-stream;headers=Content-Disposition%3A%20attachment%3B%20filename=Canvas.png');\r\n\r\n\tthis.href = image;\r\n}\r\n\r\nfunction addcolor() {\r\n\t(<GradBody>(<any>$('.gradslider')).grad()).addcolor(new Color(255, 255, 255));\r\n\r\n\tvar gradient = (<GradBody>(<any>$('.gradslider')).grad()).getgradient();\r\n\trepaintgradient(gradient);\r\n}\r\n\r\nfunction deletecolor() {\r\n\tvar index = $('.gradslider .handle.selected').index();\r\n\t$('.gradslider .handle.selected').remove();\r\n\t(<GradBody>(<any>$('.gradslider')).grad()).deletecolor(index);\r\n\r\n\tvar gradient = (<GradBody>(<any>$('.gradslider')).grad()).getgradient();\r\n\trepaintgradient(gradient);\r\n}\r\n\r\nfunction onresizewindow() {\r\n\twindowwidth = $(window).width()\r\n\twindowheight = $(window).height()\r\n\tcanvasm.width = canvasj.width = windowwidth;\r\n\tcanvasm.height = canvasj.height = windowheight;\r\n\tmandelbrot.redraw()\r\n\tjulia.redraw()\r\n}\r\n\r\nfunction onsubmit(e: Event) {\r\n\tlet inputs = <HTMLInputElement>document.getElementById(\"in_steps\")\r\n\tlet inputss = <NodeListOf<Element>>document.getElementsByName(\"supersampling\")\r\n\tlet inputtype = <NodeListOf<Element>>document.getElementsByName(\"type\")\r\n\r\n\tmandelbrot.steps = parseInt(inputs.value, 10)\r\n\tjulia.steps = parseInt(inputs.value, 10)\r\n\tfor (let i = 0; i < inputss.length; i++) {\r\n\t\tif ((<HTMLInputElement>inputss[i]).checked) {\r\n\t\t\tmandelbrot.supersampling = parseInt((<HTMLInputElement>inputss[i]).value, 10)\r\n\t\t\tjulia.supersampling = parseInt((<HTMLInputElement>inputss[i]).value, 10)\r\n\t\t}\r\n\t}\r\n\tfor (let i = 0; i < inputtype.length; i++) {\r\n\t\tif ((<HTMLInputElement>inputtype[i]).checked) {\r\n\t\t\tmandelbrot.type = (<HTMLInputElement>inputtype[i]).value == \"mandelbrot\" ? \"mandelbrot\" : \"ship\";\r\n\t\t\tjulia.type = (<HTMLInputElement>inputtype[i]).value == \"mandelbrot\" ? \"julia\" : \"juliaship\";\r\n\t\t}\r\n\t}\r\n\r\n\tvar gradient = (<GradBody>(<any>$('.gradslider')).grad()).getgradient();\r\n\tmandelbrot.setgradient(gradient)\r\n\tjulia.setgradient(gradient)\r\n\r\n\tmandelbrot.redraw()\r\n\tjulia.redraw()\r\n\te.preventDefault();\r\n}\r\n\r\nfunction onreset(e: MouseEvent) {\r\n\tjulia.center = mandelbrot.center = new Point(0, 0);\r\n\tjulia.pixelratio = mandelbrot.pixelratio = initialpixelratio;\r\n\tmandelbrot.redraw()\r\n\tjulia.redraw()\r\n}\r\n\r\ninit()\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/main.ts\n **/","import {Point} from './point'\r\n\r\nexport function scaleto(lv: number, scale: number, max: number) {\r\n    return lv / max * scale;\r\n}\r\n\r\nexport function getclickposition(\r\n    canvas: HTMLCanvasElement,\r\n    e: MouseEvent\r\n) {\r\n    let rect = canvas.getBoundingClientRect(), // abs. size of element\r\n        scaleX = canvas.width / rect.width,    // relationship bitmap vs. element for X\r\n        scaleY = canvas.height / rect.height;  // relationship bitmap vs. element for Y\r\n\r\n    let pos = {\r\n        x: (e.clientX - rect.left) * scaleX,   // scale mouse coordinates after they have\r\n        y: (e.clientY - rect.top) * scaleY     // been adjusted to be relative to element\r\n    }\r\n    return pos;\r\n}\r\n\r\nexport function getcoords(\r\n    e: MouseEvent,\r\n    canvas: HTMLCanvasElement,\r\n    pxratio: number,\r\n    base: Point\r\n) {\r\n    let pos = getclickposition(canvas, e);\r\n    return new Point(\r\n        (pos.x - canvas.width / 2) * pxratio + base.x,\r\n        (canvas.height / 2 - pos.y) * pxratio + base.y\r\n    );\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/fractals/utils.ts\n **/","export class Point {\r\n\r\n    public x: number\r\n    public y: number\r\n\r\n    constructor(x: number, y: number) {\r\n        this.x = x\r\n        this.y = y\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/fractals/point.ts\n **/","import { GradData } from './graddata'\r\nimport { GradOptions } from './gradoptions'\r\nimport { GradBody } from './gradbody'\r\n\r\nfunction GradPlugin(initialvalues: GradOptions) {\r\n\r\n    let instance = this;\r\n    let body = <GradBody>instance.data('gradbw');\r\n\r\n    if (body == null) {\r\n        body = new GradBody(instance, initialvalues)        \r\n        instance.data('gradbw', body)\r\n    }\r\n\r\n    return body;\r\n}\r\n\r\nexport {GradData, GradOptions, GradBody, GradPlugin}\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/gradient/grad.ts\n **/","import { Color } from './../color'\r\n\r\nclass GradData {\r\n\r\n    constructor(public value: number, public color: Color = new Color()) {\r\n\r\n    }\r\n}\r\n\r\nexport { GradData, Color }\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/gradient/graddata.ts\n **/","export class Color {\r\n    constructor(public r: number = 0, public g: number = 0, public b: number = 0) {\r\n\r\n    }\r\n\r\n    public tohex() {\r\n        let r = this.r.toString(16);\r\n        r = r.length < 2 ? '0' + r : r;\r\n        let g = this.g.toString(16);\r\n        g = g.length < 2 ? '0' + g : g;\r\n        let b = this.b.toString(16);\r\n        b = b.length < 2 ? '0' + b : b;\r\n        return `#${r}${g}${b}`;\r\n    }\r\n\r\n    public torgb() {\r\n        return `rgb(${this.r},${this.g},${this.b})`;\r\n    }\r\n\r\n    public parsehex(hex: string) {\r\n        let r = hex.substr(1, 2)\r\n        let g = hex.substr(3, 2)\r\n        let b = hex.substr(5, 2)\r\n        this.r = parseInt(r, 16)\r\n        this.g = parseInt(g, 16)\r\n        this.b = parseInt(b, 16)\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/color.ts\n **/","import { GradData } from './graddata'\r\n\r\nexport class GradOptions {\r\n    constructor(\r\n        public values: Array<GradData>, \r\n        public sliderclick: (el:any, data:GradData) => void = () => {},\r\n        public setgradient: (gradient:Array<GradData>) => void = () => {}    \r\n    ) {\r\n\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/gradient/gradoptions.ts\n **/","import { GradData } from './graddata'\r\nimport { GradOptions } from './gradoptions'\r\nimport { Color } from './../color'\r\n\r\nexport class GradBody {\r\n\r\n\tprivate instance: JQuery\r\n\tprivate values: Array<GradData>\r\n\tprivate sliderclick: (el: any, value: GradData) => void\r\n\tprivate setgradient: (gradient:Array<GradData>) => void\r\n\tprivate datalabel = \"graddata\"\r\n\tprivate colorvalues: Array<Color>\r\n\r\n\tpublic constructor(instance: JQuery, options: GradOptions) {\r\n\t\tthis.instance = instance\r\n\t\tthis.sliderclick = options.sliderclick\r\n\t\tthis.setgradient = options.setgradient\r\n\t\tthis.values = options.values ||\r\n\t\t\t[\r\n\t\t\t\tnew GradData(0),\r\n\t\t\t\tnew GradData(100, new Color(255, 255, 255))\r\n\t\t\t];\r\n\t\tthis.render();\r\n\t\tthis.updatehandlespositions();\r\n\t\tthis.instance.find('.handle').first().addClass('selected');\r\n\t}\r\n\r\n\tpublic getgradient() {\r\n\t\treturn _.orderBy(this.values, ['value', 'asc']);\r\n\t}\r\n\r\n\tprivate renderhtml() {\r\n\t\tlet _this = <GradBody>this;\r\n\t\t_this.instance.addClass('bwslider')\r\n\t\tlet handles = _this.instance.find('.handle')\r\n\r\n\t\twhile (handles.length < _this.values.length) {\r\n\t\t\t_this.instance.append(\r\n\t\t\t\t$('<span>')\r\n\t\t\t\t\t.addClass('handle')\r\n\t\t\t\t\t.draggable({\r\n\t\t\t\t\t\tcontainment: 'parent',\r\n\t\t\t\t\t\taxis: 'x',\r\n\t\t\t\t\t\tdrag: function () {\r\n\t\t\t\t\t\t\t_this.instance.find('.handle').removeClass('selected');\r\n\t\t\t\t\t\t\t$(this).addClass('selected'); _this.updatevalues();\r\n\t\t\t\t\t\t\t_this.updatehandlesstyles();\r\n\t\t\t\t\t\t\t_this.updatecontrolgradient();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tstop: function () {\r\n\t\t\t\t\t\t\t_this.instance.find('.handle').removeClass('selected');\r\n\t\t\t\t\t\t\t$(this).addClass('selected'); _this.updatevalues();\r\n\t\t\t\t\t\t\t_this.updatehandlesstyles();\r\n\t\t\t\t\t\t\t_this.updatecontrolgradient();\r\n\t\t\t\t\t\t\t_this.setgradient(_this.values)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.click(function () {\r\n\t\t\t\t\t\t_this.instance.find('.handle').removeClass('selected')\r\n\t\t\t\t\t\t$(this).addClass('selected')\r\n\t\t\t\t\t\t_this.sliderclick(this, <GradData>$(this).data(_this.datalabel))\r\n\t\t\t\t\t})\r\n\t\t\t);\r\n\t\t\thandles = _this.instance.find('.handle')\r\n\t\t}\r\n\t}\r\n\r\n\tprivate sethandledata() {\r\n\t\tlet _this = <GradBody>this;\r\n\t\t_this.instance.find('.handle').each(function (i) {\r\n\t\t\t$(this).data(_this.datalabel, _this.values[i])\r\n\t\t});\r\n\t}\r\n\r\n\tprivate updatehandlesstyles() {\r\n\t\tlet _this = <GradBody>this;\r\n\t\t_this.instance.find('.handle').each(function () {\r\n\t\t\tlet data = <GradData>$(this).data(_this.datalabel)\r\n\t\t\t$(this).css({\r\n\t\t\t\tbackground: data.color.tohex()\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tprivate updatehandlespositions() {\r\n\t\tlet _this = <GradBody>this;\r\n\t\t_this.instance.find('.handle').each(function () {\r\n\t\t\tlet data = <GradData>$(this).data(_this.datalabel)\r\n\t\t\t$(this).css({\r\n\t\t\t\tleft: `${data.value}%`\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tprivate updatecontrolgradient() {\r\n\t\tlet _this = <GradBody>this;\r\n\t\tlet css = \"\";\r\n\t\tlet values = _.orderBy(_this.values, ['value', 'asc'])\r\n\t\tfor (var i = 0; i < values.length; i++) {\r\n\t\t\tcss += `, ${values[i].color.tohex()} ${values[i].value}%`;\r\n\t\t}\r\n\t\t_this.instance.css(\"background-image\", `-webkit-linear-gradient(left ${css})`);\r\n\t\t_this.instance.css(\"background-image\", `-moz-linear-gradient(to right ${css})`);\r\n\t\t_this.instance.css(\"background-image\", `-o-linear-gradient(left ${css})`);\r\n\t\t_this.instance.css(\"background-image\", `linear-gradient(left ${css})`);\r\n\t}\r\n\r\n\tprivate render() {\r\n\t\tlet _this = <GradBody>this;\r\n\t\t_this.instance.addClass('bwslider')\r\n\t\t_this.renderhtml()\r\n\t\t_this.sethandledata()\r\n\t\t_this.updatehandlesstyles()\r\n\t\t_this.updatecontrolgradient()\r\n\t}\r\n\r\n\tprivate updatevalues() {\r\n\t\tlet _this = <GradBody>this;\r\n\r\n\t\t_this.instance.find('.handle').each(function (i: number) {\r\n\t\t\tlet data = <GradData>$(this).data(_this.datalabel);\r\n\t\t\tdata.value = Math.floor($(this).position().left / _this.instance.width() * 100.0);\r\n\t\t\t$(this).data(_this.datalabel, data)\r\n\t\t\t_this.values[i] = data\r\n\t\t});\r\n\t}\r\n\r\n\tpublic addcolor(color: Color) {\r\n\t\tlet _this = <GradBody>this;\r\n\t\t_this.values.push(new GradData(50, color));\r\n\t\t_this.render();\r\n\t\t_this.updatehandlespositions();\r\n\t\t_this.instance.find('.handle').removeClass('selected');\r\n\t\t_this.instance.find('.handle').last().addClass('selected');\r\n\t}\r\n\r\n\tpublic setcolor(color: Color) {\r\n\t\tlet _this = <GradBody>this\r\n\t\tlet handle = _this.instance.find('.handle.selected')\r\n\r\n\t\tif (handle.length > 0) {\r\n\t\t\tlet data = <GradData>handle.data(_this.datalabel)\r\n\t\t\tif (data != null) {\r\n\t\t\t\tdata.color = color\r\n\t\t\t\thandle.data(_this.datalabel, data)\r\n\t\t\t\t_this.updatevalues()\r\n\t\t\t\t_this.updatehandlesstyles()\r\n\t\t\t\t_this.updatecontrolgradient()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic deletecolor(index: number) {\r\n\t\tlet _this = <GradBody>this;\r\n\t\t_this.values = _.remove(this.values, function (val: any, i: number) { return i != index });\r\n\t\t_this.render();\r\n\t}\r\n\r\n\tpublic click(callback: (el: any, data: GradData) => void) {\r\n\t\tlet _this = <GradBody>this;\r\n\t\t_this.sliderclick = callback\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/gradient/gradbody.ts\n **/","import * as Utils from \"./utils\"\r\nimport { ResponseData } from \"./responsedata\"\r\nimport { GradData, Color } from \"../gradient/graddata\"\r\nimport { Point } from './point'\r\nimport { ColorComputer } from '../colorcomputer'\r\n\r\nexport class FractalBuilder {\r\n\r\n\tprivate dataparts: Array<ResponseData>\r\n\tprivate data: Array<Uint32Array>\r\n\tprivate dragcoords: { x: number, y: number }\r\n\tprotected workers: Array<Worker>\r\n\tprotected threadsnumber: number\r\n\tprotected timer: number\r\n\tprotected ready: boolean\r\n\tprotected canvas: HTMLCanvasElement\r\n\r\n\tpublic center: Point = new Point(0, 0)\r\n\tpublic steps: number = 80\r\n\tpublic pixelratio: number = 0.008\r\n\tpublic supersampling: number = 1\r\n\r\n\tpublic beforeevent: () => void\r\n\tpublic afterevent: () => void\r\n\r\n\tpublic onzoomin: () => void\r\n\tpublic onzoomout: () => void\r\n\tpublic ondrag: () => void\r\n\tpublic onclick: (e: MouseEvent) => void\r\n\r\n\tpublic redcolorchanel: Uint16Array\r\n\tpublic greencolorchanel: Uint16Array\r\n\tpublic bluecolorchanel: Uint16Array\r\n\r\n\tconstructor(public type: string) {\r\n\t\tlet instance = this\r\n\t\tinstance.ready = true;\r\n\t\tinstance.dataparts = new Array<ResponseData>()\r\n\t\tinstance.threadsnumber = (<any>navigator).hardwareConcurrency\r\n\t\tif (typeof (instance.threadsnumber) == \"undefined\") instance.threadsnumber = 4\r\n\t\tinstance.workers = [];\r\n\r\n\t\tfor (let i = 0; i < instance.threadsnumber; i++) {\r\n\t\t\tinstance.workers.push(new Worker(\"./scripts/worker.bundle.js\"));\r\n\t\t\tinstance.workers[i].onmessage = function (e: MessageEvent) {\r\n\t\t\t\tlet data = new ResponseData()\r\n\t\t\t\tdata.data = new Uint32Array(e.data)\r\n\t\t\t\tdata.threadid = i\r\n\t\t\t\tinstance.dataparts.push(data)\r\n\t\t\t\tinstance.checkready()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic setcanvas(canvas: HTMLCanvasElement) {\r\n\t\tlet instance = this\r\n\t\tinstance.canvas = canvas;\r\n\t\tinstance.canvas.addEventListener(\"mousedown\", instance, false)\r\n\t\tinstance.canvas.addEventListener(\"mousewheel\", instance, false)\r\n\t\tinstance.canvas.addEventListener(\"DOMMouseScroll\", instance, false)\r\n\t\tinstance.canvas.addEventListener(\"mouseup\", instance, false)\r\n\t}\r\n\r\n\thandleEvent = function (e: Event) {\r\n\t\tlet mevent = <MouseEvent>e\r\n\t\tlet wevent = <WheelEvent>e\r\n\t\tlet instance = <FractalBuilder>this\r\n\r\n\t\tif (instance.ready) {\r\n\t\t\tswitch (e.type) {\r\n\t\t\t\tcase 'mousedown':\r\n\t\t\t\t\tinstance.dragcoords = Utils.getclickposition(instance.canvas, mevent)\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'mouseup':\r\n\t\t\t\t\tlet upcoords = Utils.getclickposition(instance.canvas, mevent)\r\n\t\t\t\t\tlet change = { x: instance.dragcoords.x - upcoords.x, y: instance.dragcoords.y - upcoords.y }\r\n\t\t\t\t\tif (Math.abs(change.x) > 3 || Math.abs(change.y)) {\r\n\t\t\t\t\t\tinstance.drag(change)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinstance.onclick(mevent)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'mousewheel':\r\n\t\t\t\t\tif (wevent.deltaY > 0) {\r\n\t\t\t\t\t\tinstance.zoomout()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet coords = Utils.getcoords(mevent, instance.canvas, instance.pixelratio, instance.center)\r\n\t\t\t\t\t\tinstance.zoomin(coords)\r\n\t\t\t\t\t}\r\n\t\t\t\t\twevent.preventDefault()\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'DOMMouseScroll':\r\n\t\t\t\t\tif (wevent.detail > 0) {\r\n\t\t\t\t\t\tinstance.zoomout()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet coords = Utils.getcoords(mevent, instance.canvas, instance.pixelratio, instance.center)\r\n\t\t\t\t\t\tinstance.zoomin(coords)\r\n\t\t\t\t\t}\r\n\t\t\t\t\twevent.preventDefault()\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic zoomin(coords: Point) {\r\n\t\tif(coords != null) {\r\n\t\t\tthis.center = coords;\r\n\t\t}\r\n\t\tthis.pixelratio *= 0.5;\r\n\t\tthis.redraw(true)\r\n\t\tthis.onzoomin()\r\n\t}\r\n\r\n\tpublic zoomout() {\r\n\t\tif (this.pixelratio * 2 <= 0.008) {\r\n\t\t\tthis.pixelratio *= 2\r\n\t\t\tthis.redraw(true)\r\n\t\t\tthis.onzoomout()\r\n\t\t}\r\n\t}\r\n\r\n\tprotected drag(change: Point) {\r\n\t\tthis.center.x += change.x * this.pixelratio\r\n\t\tthis.center.y -= change.y * this.pixelratio\r\n\t\tthis.redraw(true)\r\n\t\tthis.ondrag()\r\n\t}\r\n\r\n\tprotected generate() {\r\n\t\tlet _this = this;\r\n\t\t_this.timer = (new Date()).getTime()\r\n\t\t_this.ready = false;\r\n\r\n\t\tlet height = Math.floor(_this.canvas.height / _this.threadsnumber)\r\n\t\tlet postdata = {\r\n\t\t\ttype: _this.type,\r\n\t\t\twidth: _this.canvas.width,\r\n\t\t\theight: height,\r\n\t\t\tsteps: _this.steps,\r\n\t\t\tpixelratio: _this.pixelratio,\r\n\t\t\tx: _this.center.x,\r\n\t\t\ty: - _this.center.y - (_this.pixelratio * height) * (_this.threadsnumber / 2.0 - 0.5),\r\n\t\t\tsupersampling: _this.supersampling\r\n\t\t}\r\n\t\tfor (let i = 0; i < _this.threadsnumber; i++) {\r\n\t\t\t_this.workers[i].postMessage(postdata)\r\n\t\t\tpostdata.y += (_this.pixelratio * height)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate checkready() {\r\n\t\tif (this.dataparts.length == this.threadsnumber) {\r\n\t\t\tthis.data = _.chain(this.dataparts).sortBy(\"threadid\").map(n => n.data).value()\r\n\t\t\tthis.repaint()\r\n\t\t\tthis.dataparts = new Array<ResponseData>();\r\n\t\t\tthis.ready = true\r\n\t\t\tif (typeof (console) != 'undefined') {\r\n\t\t\t\tconsole.log(`\r\n\t\t\t\t\tType: ${(this.type)}\r\n\t\t\t\t\tSubsampling: ${this.supersampling} \r\n\t\t\t\t\tthreadsnumber: ${this.threadsnumber}\r\n\t\t\t\t\tTime: ${((new Date()).getTime() - this.timer)}`\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic redraw(regenerate = true) {\r\n\t\tif (this.ready) {\r\n\t\t\tif (this.beforeevent != null) {\r\n\t\t\t\tthis.beforeevent()\r\n\t\t\t}\r\n\t\t\tif (regenerate) {\r\n\t\t\t\tthis.generate()\r\n\t\t\t} else {\r\n\t\t\t\tthis.repaint()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate repaint() {\r\n\t\tlet cx = this.canvas.getContext(\"2d\")\r\n\t\tlet width = this.canvas.width\r\n\t\tlet height = this.canvas.height\r\n\t\tlet pxdata = cx.createImageData(width, height)\r\n\t\tlet datapos = 0\r\n\t\tfor (let i = 0; i < this.data.length; i++) {\r\n\t\t\tfor (let j = 0; j < this.data[i].length; j++) {\r\n\t\t\t\tpxdata.data[datapos++] = this.redcolorchanel[this.data[i][j]];\r\n\t\t\t\tpxdata.data[datapos++] = this.greencolorchanel[this.data[i][j]];\r\n\t\t\t\tpxdata.data[datapos++] = this.bluecolorchanel[this.data[i][j]];\r\n\t\t\t\tpxdata.data[datapos++] = 255;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcx.putImageData(pxdata, 0, 0)\r\n\r\n\t\tif (this.afterevent != null) {\r\n\t\t\tthis.afterevent()\r\n\t\t}\r\n\t}\r\n\r\n\tpublic setgradient(gradient: Array<GradData>) {\r\n\t\tthis.redcolorchanel = new Int16Array(this.steps + 1)\r\n\t\tthis.greencolorchanel = new Int16Array(this.steps + 1)\r\n\t\tthis.bluecolorchanel = new Int16Array(this.steps + 1)\r\n\r\n\t\tlet comp = new ColorComputer(gradient)\r\n\r\n\t\tfor (let i = 0; i <= this.steps; i++) {\r\n\t\t\tlet color = comp.getcolor(this.steps, i)\r\n\t\t\tthis.redcolorchanel[i] = color.r\r\n\t\t\tthis.greencolorchanel[i] = color.g\r\n\t\t\tthis.bluecolorchanel[i] = color.b\r\n\t\t}\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/fractals/fractalbuilder.ts\n **/","export class ResponseData {\r\n    threadid: number;\r\n    data: Uint32Array;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/fractals/responsedata.ts\n **/","import {GradData} from './gradient/graddata'\r\nimport {Color} from './color'\r\n\r\nexport class ColorComputer {\r\n    public gradient: Array<GradData>\r\n\r\n    public constructor(gradient: Array<GradData>) {\r\n\r\n\t\tgradient = _.orderBy(gradient, ['value'])\r\n\r\n        if (gradient[0].value > 0) {\r\n            let head = new Array<GradData>();\r\n            head.push(new GradData(0, gradient[0].color));\r\n            gradient = head.concat(gradient);\r\n        }\r\n\r\n        if (gradient[gradient.length - 1].value < 100) {\r\n            let tail = new Array<GradData>();\r\n            tail.push(new GradData(100, gradient[gradient.length - 1].color));\r\n            gradient = gradient.concat(tail);\r\n        }\r\n\r\n\t\tgradient = _.chain(gradient)\r\n\t\t\t.groupBy('value')\r\n\t\t\t.map(function (el: Array<GradData>) {\r\n\t\t\t\treturn el[0];\r\n\t\t\t})\r\n\t\t\t.value()\r\n\r\n        this.gradient = gradient;\r\n    }\r\n\r\n\tpublic getcolor(max: number, val: number) {\r\n\t\tlet x = val / max * 100\r\n\t\tlet edges = this.getedges(x)\r\n\r\n\t\tlet diffvalue = edges[0].value - edges[1].value;\r\n\t\tlet addvalue = edges[0].value + edges[1].value;\r\n\r\n\t\tlet ar = (edges[0].color.r - edges[1].color.r) / diffvalue;\r\n\t\tlet br = (edges[0].color.r + edges[1].color.r - ar * addvalue) / 2.0;\r\n\t\tlet funR = (x: number) => { return x * ar + br }\r\n\r\n\t\tlet ag = (edges[0].color.g - edges[1].color.g) / diffvalue;\r\n\t\tlet bg = (edges[0].color.g + edges[1].color.g - ag * addvalue) / 2.0;\r\n\t\tlet funG = (x: number) => { return x * ag + bg }\r\n\r\n\t\tlet ab = (edges[0].color.b - edges[1].color.b) / diffvalue;\r\n\t\tlet bb = (edges[0].color.b + edges[1].color.b - ab * addvalue) / 2.0;\r\n\t\tlet funB = (x: number) => { return x * ab + bb }\r\n\r\n\t\treturn new Color(funR(val), funG(val), funB(val));\r\n\t}\r\n\r\n\tpublic getedges(val: number) {\r\n\t\tif (val == 100) {\r\n\t\t\treturn [\r\n\t\t\t\tthis.gradient[this.gradient.length - 2],\r\n\t\t\t\tthis.gradient[this.gradient.length - 1]\r\n\t\t\t]\r\n\t\t}\r\n\t\treturn [\r\n\t\t\t_.findLast(this.gradient, function (el) { return el.value <= val }),\r\n\t\t\t_.find(this.gradient, function (el) { return el.value > val })\r\n\t\t]\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/colorcomputer.ts\n **/","import * as Utils from \"./utils\"\r\nimport { ResponseData } from \"./responsedata\"\r\nimport { FractalBuilder } from \"./fractalbuilder\"\r\nimport { Point } from './point'\r\n\r\nexport class JuliaBuilder extends FractalBuilder {\r\n\r\n\tpublic jconstant:Point;\r\n\r\n\r\n\tconstructor(type: string) {\r\n\t\tsuper(type)\r\n\t\tthis.jconstant = new Point(0.12, 0.63);\t\t\r\n\t}\r\n\r\n\tprotected generate() {\r\n\t\tlet _this = this;\r\n\t\t_this.timer = (new Date()).getTime()\r\n\t\t_this.ready = false;\r\n\r\n\t\tlet height = Math.floor(_this.canvas.height / _this.threadsnumber)\r\n\t\tlet postdata = {\r\n\t\t\ttype: _this.type,\r\n\t\t\twidth: _this.canvas.width,\r\n\t\t\theight: height,\r\n\t\t\tsteps: _this.steps,\r\n\t\t\tpixelratio: _this.pixelratio,\r\n\t\t\tx: _this.center.x,\r\n\t\t\ty: - _this.center.y - (_this.pixelratio * height) * (_this.threadsnumber / 2.0 - 0.5),\r\n\t\t\tsupersampling: _this.supersampling,\r\n\t\t\tcx: _this.jconstant.x,\r\n\t\t\tcy: -_this.jconstant.y\r\n\t\t}\r\n\t\tfor (let i = 0; i < _this.threadsnumber; i++) {\r\n\t\t\t_this.workers[i].postMessage(postdata)\r\n\t\t\tpostdata.y += (_this.pixelratio * height)\r\n\t\t}\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/fractals/juliabuilder.ts\n **/","export class Tutorial {\r\n\r\n    private storagekey = 'tutorial'\r\n    private classmessage = '.message'\r\n\r\n    constructor(private selector: string) {\r\n        $(`${this.selector}`).tooltip(<any>{ trigger: 'manual' })\r\n        $(`${this.selector}`).tooltip('show')\r\n        $(`${this.selector}`).hide()\r\n        $(`${this.selector} + .tooltip`).hide()\r\n    }\r\n\r\n    private showcurrent = function () {\r\n        $(`${this.selector}`).hide()\r\n        $(`${this.selector} + .tooltip`).hide()\r\n        $(`${this.selector}${this.classmessage}${this.getlevel()}`).show();\r\n        $(`${this.selector}${this.classmessage}${this.getlevel()} + .tooltip`).show();\r\n    }\r\n\r\n    public setlevel = function (nextlevel: number) {\r\n        let level = this.getlevel()\r\n        if (level + 1 == nextlevel) {\r\n            localStorage.setItem(this.storagekey, nextlevel.toString())\r\n        }\r\n        this.showcurrent()\r\n    }\r\n\r\n    private getlevel = function () {\r\n        let level = parseInt(localStorage.getItem(this.storagekey), 10)\r\n        if (isNaN(level)) {\r\n            return 0\r\n        }\r\n        return level;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/scripts/tutorial.ts\n **/"],"sourceRoot":""}